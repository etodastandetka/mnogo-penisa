# Настройка мобильных изображений для товаров

## Описание
Добавлена возможность указывать отдельные изображения для мобильных устройств для каждого товара. Это решает проблему, когда изображения товаров отображаются на ноутбуке, но не отображаются на телефоне.

## Что добавлено

### 1. Новое поле в базе данных
- Добавлена колонка `mobile_image_url` в таблицу `products`
- Колонка автоматически добавляется при запуске сервера

### 2. Обновление админки
- В формах добавления и редактирования товаров добавлено поле "Ссылка на фото для мобильной версии"
- Поле принимает прямые ссылки на изображения (URL)
- Добавлен предварительный просмотр мобильного изображения
- В списке товаров отображается бейдж "📱 Мобильное фото" для товаров с мобильными изображениями

### 3. Обновление ProductCard
- Автоматическое определение мобильного устройства (ширина экрана ≤ 768px)
- Приоритет: мобильное изображение для мобильных устройств, основное для десктопа
- Динамическое переключение изображений при изменении размера окна

## Как использовать

### Для администраторов:

1. **Добавление товара:**
   - Заполните основную информацию о товаре
   - В поле "Ссылка на фото для мобильной версии" вставьте прямую ссылку на изображение
   - Пример: `https://example.com/product-mobile.jpg`

2. **Редактирование товара:**
   - Откройте товар для редактирования
   - В поле "Ссылка на фото для мобильной версии" введите или измените ссылку
   - Сохраните изменения

### Для разработчиков:

1. **Типы:**
   ```typescript
   interface Product {
     // ... существующие поля
     mobile_image_url?: string; // Ссылка на фото для мобильной версии
   }
   ```

2. **API:**
   - Поле автоматически включается в `SELECT * FROM products`
   - При создании/обновлении товара поле передается как есть

3. **Логика отображения:**
   ```typescript
   const getImageUrl = (): string | null => {
     const isMobile = window.innerWidth <= 768;
     
     if (isMobile && product.mobile_image_url) {
       return product.mobile_image_url; // Мобильное изображение
     } else if (product.image_url || product.image) {
       return product.image_url || product.image; // Основное изображение
     }
     
     return null; // Fallback на эмодзи
   };
   ```

## Рекомендации по изображениям

### Форматы:
- JPG, PNG, GIF
- Рекомендуется JPG для лучшего сжатия

### Размеры:
- **Основное изображение:** 400x400px или больше
- **Мобильное изображение:** 300x300px или больше
- Соотношение сторон: 1:1 (квадрат)

### Хостинг:
- Используйте надежные CDN или хостинги изображений
- Убедитесь, что изображения доступны по HTTPS
- Проверьте CORS настройки

## Примеры ссылок

```
https://cdn.example.com/products/roll-1-mobile.jpg
https://images.example.com/pizza-mobile.png
https://static.example.com/drinks/cola-mobile.jpg
```

## Отладка

### В консоли браузера:
- 📱 - используется мобильное изображение
- 💻 - используется основное изображение
- ❌ - изображение не найдено, показывается эмодзи

### Проверка в админке:
- Бейдж "📱 Мобильное фото" показывает, что товар имеет мобильное изображение
- Предварительный просмотр в формах редактирования

## Миграция существующих данных

При первом запуске сервера:
1. Автоматически создается колонка `mobile_image_url`
2. Существующие товары получают пустое значение в этом поле
3. Товары продолжают работать как раньше

## Безопасность

- Поле принимает только URL (не файлы)
- Валидация URL на стороне клиента
- Отображение изображений с проверкой доступности
