const sqlite3 = require('sqlite3').verbose();
const path = require('path');

const dbPath = path.join(__dirname, 'data/mnogo_rolly.db');
const db = new sqlite3.Database(dbPath);

console.log('üìù –î–æ–±–∞–≤–ª—è–µ–º –ø–æ–¥—Ä–æ–±–Ω—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤...');

// –ü–æ–¥—Ä–æ–±–Ω—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è —Å —Å–æ—Å—Ç–∞–≤–æ–º
const detailedProducts = [
  {
    name: '–•—Ä—É—Å—Ç—è—â–∞—è –∞—Ä–∏–≥–∞—Ç–æ',
    description: `üç£ –ü—Ä–µ–º–∏—É–º —Ä–æ–ª–ª —Å —Ö—Ä—É—Å—Ç—è—â–µ–π –∫–∞—Ç–∞–∏—Ñ–∏

–°–æ—Å—Ç–∞–≤:
‚Ä¢ –†–∏—Å (100 –≥—Ä) - –æ—Ç–±–æ—Ä–Ω—ã–π —è–ø–æ–Ω—Å–∫–∏–π
‚Ä¢ –ù–æ—Ä–∏ (1 —à—Ç) - –º–æ—Ä—Å–∫–∏–µ –≤–æ–¥–æ—Ä–æ—Å–ª–∏
‚Ä¢ –ö–∞—Ç–∞–∏—Ñ–∏ (30 –≥—Ä) - —Ö—Ä—É—Å—Ç—è—â–µ–µ —Ç–µ—Å—Ç–æ
‚Ä¢ –ö—Ä–µ–≤–µ—Ç–∫–∏ (20 –≥—Ä) - —Å–≤–µ–∂–∏–µ —Ç–∏–≥—Ä–æ–≤—ã–µ
‚Ä¢ –û–≥—É—Ä–µ—Ü (20 –≥—Ä) - —Ö—Ä—É—Å—Ç—è—â–∏–π —è–ø–æ–Ω—Å–∫–∏–π
‚Ä¢ –°–æ—É—Å –∞—Ä–∏–≥–∞—Ç–æ (20 –≥—Ä) - –∞–≤—Ç–æ—Ä—Å–∫–∏–π —Ä–µ—Ü–µ–ø—Ç
‚Ä¢ –£–Ω–∞–≥–∏ (10 –≥—Ä) - –≥–ª–∞–∑—É—Ä—å –∏–∑ —É–≥—Ä—è

–£–Ω–∏–∫–∞–ª—å–Ω—ã–π –≤–∫—É—Å —Å —Ö—Ä—É—Å—Ç—è—â–µ–π —Ç–µ–∫—Å—Ç—É—Ä–æ–π. –ò–¥–µ–∞–ª–µ–Ω –¥–ª—è –ª—é–±–∏—Ç–µ–ª–µ–π –Ω–µ–æ–±—ã—á–Ω—ã—Ö —Å–æ—á–µ—Ç–∞–Ω–∏–π.`
  },
  {
    name: '–ö—Ä–µ–≤–µ—Ç–∫–∏ —Å —Ç–∞–º–∞–≥–æ',
    description: `üç§ –ò–∑—ã—Å–∫–∞–Ω–Ω—ã–π —Ä–æ–ª–ª —Å –æ–º–ª–µ—Ç–æ–º —Ç–∞–º–∞–≥–æ

–°–æ—Å—Ç–∞–≤:
‚Ä¢ –†–∏—Å (110 –≥—Ä) - —è–ø–æ–Ω—Å–∫–∏–π —Å–æ—Ä—Ç
‚Ä¢ –°—ã—Ä (20 –≥—Ä) - —Å–ª–∏–≤–æ—á–Ω—ã–π Philadelphia
‚Ä¢ –ù–æ—Ä–∏ (1 —à—Ç) - –ø—Ä–µ–º–∏—É–º –∫–∞—á–µ—Å—Ç–≤–∞
‚Ä¢ –¢–æ–±–∏–∫–æ (10 –≥—Ä) - –∏–∫—Ä–∞ –ª–µ—Ç—É—á–µ–π —Ä—ã–±—ã
‚Ä¢ –û–º–ª–µ—Ç —Ç–∞–º–∞–≥–æ (20 –≥—Ä) - —Å–ª–∞–¥–∫–∏–π —è–ø–æ–Ω—Å–∫–∏–π
‚Ä¢ –û–≥—É—Ä–µ—Ü (20 –≥—Ä) - —Å–≤–µ–∂–∏–π —Ö—Ä—É—Å—Ç—è—â–∏–π
‚Ä¢ –ö—Ä–µ–≤–µ—Ç–∫–∏ (40 –≥—Ä) - –∫–æ—Ä–æ–ª–µ–≤—Å–∫–∏–µ
‚Ä¢ –°–æ—É—Å —Å–ø–∞–π—Å (20 –≥—Ä) - –æ—Å—Ç—Ä—ã–π –∞–≤—Ç–æ—Ä—Å–∫–∏–π

–î–µ–ª–∏–∫–∞—Ç–µ—Å–Ω—ã–π —Ä–æ–ª–ª —Å –Ω–µ–∂–Ω—ã–º –≤–∫—É—Å–æ–º –∏ –∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω—ã–º–∏ —Ç–µ–∫—Å—Ç—É—Ä–∞–º–∏.`
  },
  {
    name: '–û–ø–∞–ª–µ–Ω–Ω—ã–π —Å –ª–æ—Å–æ—Å–µ–º',
    description: `üî• –û–ø–∞–ª–µ–Ω–Ω—ã–π —Ä–æ–ª–ª —Å –ª–æ—Å–æ—Å–µ–º

–°–æ—Å—Ç–∞–≤:
‚Ä¢ –†–∏—Å (120 –≥—Ä) - –æ—Ç–±–æ—Ä–Ω—ã–π —è–ø–æ–Ω—Å–∫–∏–π
‚Ä¢ –°—ã—Ä (30 –≥—Ä) - Philadelphia
‚Ä¢ –ù–æ—Ä–∏ (1 —à—Ç) - –º–æ—Ä—Å–∫–∏–µ –≤–æ–¥–æ—Ä–æ—Å–ª–∏
‚Ä¢ –û–≥—É—Ä–µ—Ü (20 –≥—Ä) - —Å–≤–µ–∂–∏–π
‚Ä¢ –õ–æ—Å–æ—Å—å (50 –≥—Ä) - –Ω–æ—Ä–≤–µ–∂—Å–∫–∏–π, –æ–ø–∞–ª–µ–Ω–Ω—ã–π
‚Ä¢ –£–Ω–∞–≥–∏ (15 –≥—Ä) - —Å–æ—É—Å —É–Ω–∞–≥–∏
‚Ä¢ –ö—É–Ω–∂—É—Ç (5 –≥—Ä) - –æ–±–∂–∞—Ä–µ–Ω–Ω—ã–π

–õ–æ—Å–æ—Å—å –æ–ø–∞–ª–∏–≤–∞–µ—Ç—Å—è –¥–æ –∑–æ–ª–æ—Ç–∏—Å—Ç–æ–π –∫–æ—Ä–æ—á–∫–∏, —á—Ç–æ –ø—Ä–∏–¥–∞–µ—Ç —Ä–æ–ª–ª—É –¥—ã–º–Ω—ã–π –∞—Ä–æ–º–∞—Ç.`
  },
  {
    name: '–ö–∏–æ—Ç–æ',
    description: `üç± –ó–∞–ø–µ—á–µ–Ω–Ω—ã–π —Ä–æ–ª–ª –ö–∏–æ—Ç–æ

–°–æ—Å—Ç–∞–≤:
‚Ä¢ –†–∏—Å (140 –≥—Ä) - —è–ø–æ–Ω—Å–∫–∏–π –ø—Ä–µ–º–∏—É–º
‚Ä¢ –ù–æ—Ä–∏ (1 —à—Ç) - –æ—Ç–±–æ—Ä–Ω—ã–µ –≤–æ–¥–æ—Ä–æ—Å–ª–∏
‚Ä¢ –°—ã—Ä (30 –≥—Ä) - —Å–ª–∏–≤–æ—á–Ω—ã–π Philadelphia
‚Ä¢ –û–≥—É—Ä–µ—Ü (20 –≥—Ä) - —Ö—Ä—É—Å—Ç—è—â–∏–π
‚Ä¢ –ö—Ä–µ–≤–µ—Ç–∫–∏ (20 –≥—Ä) - —Ç–∏–≥—Ä–æ–≤—ã–µ
‚Ä¢ –ö—É–Ω–∂—É—Ç (20 –≥—Ä) - —á–µ—Ä–Ω—ã–π –∏ –±–µ–ª—ã–π
‚Ä¢ –°–æ—É—Å –¥–ª—è –∑–∞–ø–µ–∫–∞–Ω–∏—è (50 –≥—Ä) - –∞–≤—Ç–æ—Ä—Å–∫–∏–π

–ó–∞–ø–µ–∫–∞–µ—Ç—Å—è –≤ –ø–µ—á–∏ –¥–æ –∑–æ–ª–æ—Ç–∏—Å—Ç–æ–π –∫–æ—Ä–æ—á–∫–∏. –ü–æ–¥–∞–µ—Ç—Å—è –≥–æ—Ä—è—á–∏–º.`
  },
  {
    name: '–§–∏–ª–∞–¥–µ–ª—å—Ñ–∏—è —Å —É–≥—Ä—ë–º',
    description: `üêç –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –§–∏–ª–∞–¥–µ–ª—å—Ñ–∏—è —Å —É–≥—Ä–µ–º

–°–æ—Å—Ç–∞–≤:
‚Ä¢ –†–∏—Å (100 –≥—Ä) - —è–ø–æ–Ω—Å–∫–∏–π —Å–æ—Ä—Ç
‚Ä¢ –ù–æ—Ä–∏ (1 —à—Ç) - –º–æ—Ä—Å–∫–∏–µ –≤–æ–¥–æ—Ä–æ—Å–ª–∏
‚Ä¢ –°—ã—Ä (30 –≥—Ä) - Philadelphia –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π
‚Ä¢ –û–≥—É—Ä–µ—Ü (20 –≥—Ä) - —Å–≤–µ–∂–∏–π —è–ø–æ–Ω—Å–∫–∏–π
‚Ä¢ –£–≥–æ—Ä—å (50 –≥—Ä) - –∫–æ–ø—á–µ–Ω—ã–π —É–Ω–∞–≥–∏
‚Ä¢ –°–æ—É—Å —É–Ω–∞–≥–∏ (5 –≥—Ä) - —Å–ª–∞–¥–∫–∏–π –≥–ª–∞–∑—É—Ä—å
‚Ä¢ –ö—É–Ω–∂—É—Ç (5 –≥—Ä) - –æ–±–∂–∞—Ä–µ–Ω–Ω—ã–π

–ü—Ä–µ–º–∏—É–º —Ä–æ–ª–ª —Å –¥–µ–ª–∏–∫–∞—Ç–µ—Å–Ω—ã–º —É–≥—Ä–µ–º –∏ –Ω–µ–∂–Ω—ã–º —Å–ª–∏–≤–æ—á–Ω—ã–º —Å—ã—Ä–æ–º.`
  },
  {
    name: '–ù–∞–≥–≥–µ—Ç—Å—ã –∫—É—Ä–∏–Ω—ã–µ —Å –∫–∞—Ä—Ç–æ—Ñ–µ–ª–µ–º —Ñ—Ä–∏',
    description: `üçó –°–æ—á–Ω—ã–µ –∫—É—Ä–∏–Ω—ã–µ –Ω–∞–≥–≥–µ—Ç—Å—ã —Å –∫–∞—Ä—Ç–æ—Ñ–µ–ª–µ–º

–°–æ—Å—Ç–∞–≤:
‚Ä¢ –ö–∞—Ä—Ç–æ—Ñ–µ–ª—å —Ñ—Ä–∏ (200 –≥—Ä) - –∑–æ–ª–æ—Ç–∏—Å—Ç—ã–π —Ö—Ä—É—Å—Ç—è—â–∏–π
‚Ä¢ –ö—É—Ä–∏–Ω—ã–µ –Ω–∞–≥–≥–µ—Ç—Å—ã (8-10 —à—Ç) - –∏–∑ –∫—É—Ä–∏–Ω–æ–≥–æ —Ñ–∏–ª–µ
‚Ä¢ –ü–∞–Ω–∏—Ä–æ–≤–∫–∞ - —Ö—Ä—É—Å—Ç—è—â–∞—è, —Å —Ç—Ä–∞–≤–∞–º–∏
‚Ä¢ –°–æ—É—Å—ã –Ω–∞ –≤—ã–±–æ—Ä - –∫–µ—Ç—á—É–ø, –º–∞–π–æ–Ω–µ–∑, –±–∞—Ä–±–µ–∫—é

–ò–¥–µ–∞–ª—å–Ω–æ–µ —Å–æ—á–µ—Ç–∞–Ω–∏–µ –¥–ª—è —Å—ã—Ç–Ω–æ–≥–æ –ø–µ—Ä–µ–∫—É—Å–∞. –ù–∞–≥–≥–µ—Ç—Å—ã –≥–æ—Ç–æ–≤—è—Ç—Å—è –∏–∑ —Å–≤–µ–∂–µ–≥–æ –∫—É—Ä–∏–Ω–æ–≥–æ —Ñ–∏–ª–µ.`
  },
  {
    name: '–ö—Ä—ã–ª—å—è –∫—É—Ä–∏–Ω—ã–µ 12 —à—Ç',
    description: `üçó –°–æ—á–Ω—ã–µ –∫—É—Ä–∏–Ω—ã–µ –∫—Ä—ã–ª—ã—à–∫–∏ (12 —à—Ç)

–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
‚Ä¢ –ú–∞—Ä–∏–Ω–æ–≤–∞–Ω—ã –≤ –∞–≤—Ç–æ—Ä—Å–∫–∏—Ö —Å–ø–µ—Ü–∏—è—Ö 24 —á–∞—Å–∞
‚Ä¢ –ó–∞–ø–µ–∫–∞—é—Ç—Å—è –≤ –ø–µ—á–∏ –¥–æ –∑–æ–ª–æ—Ç–∏—Å—Ç–æ–π –∫–æ—Ä–æ—á–∫–∏
‚Ä¢ –ü–æ–¥–∞—é—Ç—Å—è —Å —Å–æ—É—Å–æ–º –Ω–∞ –≤—ã–±–æ—Ä
‚Ä¢ –í–µ—Å –ø–æ—Ä—Ü–∏–∏: ~600 –≥—Ä
‚Ä¢ –û—Å—Ç—Ä–æ—Ç–∞: —Å—Ä–µ–¥–Ω—è—è (–º–æ–∂–Ω–æ –∑–∞–∫–∞–∑–∞—Ç—å –æ—Å—Ç—Ä—ã–µ)

–ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –∫–æ–º–ø–∞–Ω–∏–∏ –∏–∑ 2-3 —á–µ–ª–æ–≤–µ–∫. –°–æ—á–Ω–æ–µ –º—è—Å–æ, —Ö—Ä—É—Å—Ç—è—â–∞—è –∫–æ—Ä–æ—á–∫–∞.`
  },
  {
    name: '–ö—Ä—ã–ª—å—è –∫—É—Ä–∏–Ω—ã–µ 18 —à—Ç',
    description: `üçó –ë–æ–ª—å—à–∞—è –ø–æ—Ä—Ü–∏—è –∫—Ä—ã–ª—å–µ–≤ (18 —à—Ç) + Coca-Cola

–í–∫–ª—é—á–∞–µ—Ç:
‚Ä¢ –ö—Ä—ã–ª—ã—à–∫–∏ (18 —à—Ç) - ~900 –≥—Ä
‚Ä¢ Coca-Cola (0.3–ª) - –æ—Å–≤–µ–∂–∞—é—â–∏–π –Ω–∞–ø–∏—Ç–æ–∫
‚Ä¢ 2 —Å–æ—É—Å–∞ –Ω–∞ –≤—ã–±–æ—Ä
‚Ä¢ –°–∞–ª—Ñ–µ—Ç–∫–∏ –∏ —Å–ø–µ—Ü–∏–∏

–°–µ—Ç –¥–ª—è –∫–æ–º–ø–∞–Ω–∏–∏ 3-4 —á–µ–ª–æ–≤–µ–∫–∞. –≠–∫–æ–Ω–æ–º–∏—è 50 —Å–æ–º –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å —Ä–∞–∑–¥–µ–ª—å–Ω—ã–º –∑–∞–∫–∞–∑–æ–º!`
  },
  {
    name: '–ö—Ä—ã–ª—å—è –∫—É—Ä–∏–Ω—ã–µ 25 —à—Ç',
    description: `üçó –°–µ–º–µ–π–Ω–∞—è –ø–æ—Ä—Ü–∏—è –∫—Ä—ã–ª—å–µ–≤ (25 —à—Ç)

–î–ª—è –∫–æ–º–ø–∞–Ω–∏–∏:
‚Ä¢ –ö—Ä—ã–ª—ã—à–∫–∏ (25 —à—Ç) - ~1.2 –∫–≥ –º—è—Å–∞
‚Ä¢ 3 —Ä–∞–∑–Ω—ã—Ö —Å–æ—É—Å–∞ –≤ –∫–æ–º–ø–ª–µ–∫—Ç–µ
‚Ä¢ –ú–∞—Ä–∏–Ω–∞–¥: –º–µ–¥–æ–≤–æ-–≥–æ—Ä—á–∏—á–Ω—ã–π –∏–ª–∏ –æ—Å—Ç—Ä—ã–π
‚Ä¢ –ü–æ–¥–∞—á–∞: –Ω–∞ –±–æ–ª—å—à–æ–º –±–ª—é–¥–µ –¥–ª—è –∫–æ–º–ø–∞–Ω–∏–∏

–•–≤–∞—Ç–∞–µ—Ç –Ω–∞ 4-5 —á–µ–ª–æ–≤–µ–∫. –õ—É—á—à–∏–π –≤—ã–±–æ—Ä –¥–ª—è —Å–µ–º–µ–π–Ω–æ–≥–æ —É–∂–∏–Ω–∞ –∏–ª–∏ –≤—Å—Ç—Ä–µ—á–∏ —Å –¥—Ä—É–∑—å—è–º–∏.`
  },
  {
    name: '–ö—Ä—ã–ª—å—è –∫—É—Ä–∏–Ω—ã–µ 32 —à—Ç',
    description: `üçó –ú–ï–ì–ê-–ø–æ—Ä—Ü–∏—è –¥–ª—è –±–æ–ª—å—à–æ–π –∫–æ–º–ø–∞–Ω–∏–∏ (32 —à—Ç)

–≠–ø–∏—á–µ—Å–∫–∏–π —Å–µ—Ç:
‚Ä¢ –ö—Ä—ã–ª—ã—à–∫–∏ (32 —à—Ç) - ~1.6 –∫–≥
‚Ä¢ 3 —Å–æ—É—Å–∞ —Ä–∞–∑–Ω—ã—Ö –≤–∫—É—Å–æ–≤
‚Ä¢ –ù–∞–ø–∏—Ç–∫–∏: 2 –±–∞–Ω–∫–∏ Coca-Cola
‚Ä¢ –°–∞–ª—Ñ–µ—Ç–∫–∏ –∏ –∑—É–±–æ—á–∏—Å—Ç–∫–∏
‚Ä¢ –°–ø–µ—Ü–∏–∏ –¥–ª—è –ø–æ–¥–∞—á–∏

–î–ª—è –∫–æ–º–ø–∞–Ω–∏–∏ 6-8 —á–µ–ª–æ–≤–µ–∫. –ó–∞–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ –¥–Ω–∏ —Ä–æ–∂–¥–µ–Ω–∏—è –∏ –±–æ–ª—å—à–∏–µ –≤—Å—Ç—Ä–µ—á–∏!`
  }
];

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ–ø–∏—Å–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–∞
function updateProductDescription(name, description) {
  return new Promise((resolve, reject) => {
    db.run(`
      UPDATE products 
      SET description = ?
      WHERE name LIKE ?
    `, [description, `%${name}%`], function(err) {
      if (err) {
        reject(err);
      } else {
        resolve({ name, changes: this.changes });
      }
    });
  });
}

// –û–±–Ω–æ–≤–ª—è–µ–º –æ–ø–∏—Å–∞–Ω–∏—è
async function updateAllDescriptions() {
  let updated = 0;
  let notFound = 0;
  
  for (const product of detailedProducts) {
    try {
      const result = await updateProductDescription(product.name, product.description);
      if (result.changes > 0) {
        console.log(`‚úÖ ${product.name} - –æ–±–Ω–æ–≤–ª–µ–Ω–æ ${result.changes} —Ç–æ–≤–∞—Ä–æ–≤`);
        updated++;
      } else {
        console.log(`‚ö†Ô∏è ${product.name} - —Ç–æ–≤–∞—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω`);
        notFound++;
      }
    } catch (error) {
      console.error(`‚ùå –û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è ${product.name}:`, error);
    }
  }
  
  console.log(`\nüìä –ò—Ç–æ–≥:`);
  console.log(`‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–æ: ${updated} —Ç–æ–≤–∞—Ä–æ–≤`);
  console.log(`‚ö†Ô∏è –ù–µ –Ω–∞–π–¥–µ–Ω–æ: ${notFound} —Ç–æ–≤–∞—Ä–æ–≤`);
  
  db.close();
}

updateAllDescriptions();
